(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"+D6J":function(n,r){n.exports=function(n){return n!=n}},"/40y":function(n,r,t){var e=t("wvav"),o=t("AmsH"),i=t("ubI+");n.exports=function(n){return o(n)?i(n):e(n)}},"2vMh":function(n,r,t){var e=t("S8CN"),o=t("+D6J"),i=t("tqoU");n.exports=function(n,r,t){return r==r?i(n,r,t):e(n,o,t)}},"4hrr":function(n,r,t){var e=t("SOgk"),o=t("TIpG");n.exports=function(n,r){var t=-1,i=o(n)?Array(n.length):[];return e(n,(function(n,e,o){i[++t]=r(n,e,o)})),i}},"5ixe":function(n,r,t){var e=t("Xv/6"),o=t("DFgS"),i=t("nTTP"),a=t("Y14c"),u=t("UqQu"),c=t("/40y"),f=t("cA8S");n.exports=function(n,r,t){if((n=f(n))&&(t||void 0===r))return o(n);if(!n||!(r=e(r)))return n;var s=c(n),l=c(r),p=u(s,l),v=a(s,l)+1;return i(s,p,v).join("")}},"7joA":function(n,r,t){},AmsH:function(n,r){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");n.exports=function(n){return t.test(n)}},DFgS:function(n,r,t){var e=t("NG5O"),o=/^\s+/;n.exports=function(n){return n?n.slice(0,e(n)+1).replace(o,""):n}},FEUI:function(n,r,t){"use strict";r.a={id:"Fitting",icon:"",name:"在线计算拟合曲线函数",desc:"输入多组组(x, y)值，就可以计算出这组数据的多项式拟合函数表达式，并绘制出拟合曲线的样子以及最后的拟合函数方程！",keywords:["拟合","函数","曲线","组组","计算","这组","多项式","表达式","绘制","在线"],time:"2018-09-20",category:"MATH",author:"hustcc"}},J4VQ:function(n,r,t){var e,o,i;t("vX+X"),o=[n],void 0===(i="function"==typeof(e=function(n){"use strict";var r=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n};function t(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var e={order:2,precision:2,period:null};function o(n,r){var t=[],e=[];n.forEach((function(n,o){null!==n[1]&&(e.push(n),t.push(r[o]))}));var o=e.reduce((function(n,r){return n+r[1]}),0)/e.length,i=e.reduce((function(n,r){var t=r[1]-o;return n+t*t}),0);return 1-e.reduce((function(n,r,e){var o=t[e],i=r[1]-o[1];return n+i*i}),0)/i}function i(n,r){var t=Math.pow(10,r);return Math.round(n*t)/t}var a={linear:function(n,r){for(var t=[0,0,0,0,0],e=0,a=0;a<n.length;a++)null!==n[a][1]&&(e++,t[0]+=n[a][0],t[1]+=n[a][1],t[2]+=n[a][0]*n[a][0],t[3]+=n[a][0]*n[a][1],t[4]+=n[a][1]*n[a][1]);var u=e*t[2]-t[0]*t[0],c=e*t[3]-t[0]*t[1],f=0===u?0:i(c/u,r.precision),s=i(t[1]/e-f*t[0]/e,r.precision),l=function(n){return[i(n,r.precision),i(f*n+s,r.precision)]},p=n.map((function(n){return l(n[0])}));return{points:p,predict:l,equation:[f,s],r2:i(o(n,p),r.precision),string:0===s?"y = "+f+"x":"y = "+f+"x + "+s}},exponential:function(n,r){for(var t=[0,0,0,0,0,0],e=0;e<n.length;e++)null!==n[e][1]&&(t[0]+=n[e][0],t[1]+=n[e][1],t[2]+=n[e][0]*n[e][0]*n[e][1],t[3]+=n[e][1]*Math.log(n[e][1]),t[4]+=n[e][0]*n[e][1]*Math.log(n[e][1]),t[5]+=n[e][0]*n[e][1]);var a=t[1]*t[2]-t[5]*t[5],u=Math.exp((t[2]*t[3]-t[5]*t[4])/a),c=(t[1]*t[4]-t[5]*t[3])/a,f=i(u,r.precision),s=i(c,r.precision),l=function(n){return[i(n,r.precision),i(f*Math.exp(s*n),r.precision)]},p=n.map((function(n){return l(n[0])}));return{points:p,predict:l,equation:[f,s],string:"y = "+f+"e^("+s+"x)",r2:i(o(n,p),r.precision)}},logarithmic:function(n,r){for(var t=[0,0,0,0],e=n.length,a=0;a<e;a++)null!==n[a][1]&&(t[0]+=Math.log(n[a][0]),t[1]+=n[a][1]*Math.log(n[a][0]),t[2]+=n[a][1],t[3]+=Math.pow(Math.log(n[a][0]),2));var u=i((e*t[1]-t[2]*t[0])/(e*t[3]-t[0]*t[0]),r.precision),c=i((t[2]-u*t[0])/e,r.precision),f=function(n){return[i(n,r.precision),i(i(c+u*Math.log(n),r.precision),r.precision)]},s=n.map((function(n){return f(n[0])}));return{points:s,predict:f,equation:[c,u],string:"y = "+c+" + "+u+" ln(x)",r2:i(o(n,s),r.precision)}},power:function(n,r){for(var t=[0,0,0,0,0],e=n.length,a=0;a<e;a++)null!==n[a][1]&&(t[0]+=Math.log(n[a][0]),t[1]+=Math.log(n[a][1])*Math.log(n[a][0]),t[2]+=Math.log(n[a][1]),t[3]+=Math.pow(Math.log(n[a][0]),2));var u=(e*t[1]-t[0]*t[2])/(e*t[3]-Math.pow(t[0],2)),c=(t[2]-u*t[0])/e,f=i(Math.exp(c),r.precision),s=i(u,r.precision),l=function(n){return[i(n,r.precision),i(i(f*Math.pow(n,s),r.precision),r.precision)]},p=n.map((function(n){return l(n[0])}));return{points:p,predict:l,equation:[f,s],string:"y = "+f+"x^"+s,r2:i(o(n,p),r.precision)}},polynomial:function(n,r){for(var e=[],a=[],u=0,c=0,f=n.length,s=r.order+1,l=0;l<s;l++){for(var p=0;p<f;p++)null!==n[p][1]&&(u+=Math.pow(n[p][0],l)*n[p][1]);e.push(u),u=0;for(var v=[],h=0;h<s;h++){for(var g=0;g<f;g++)null!==n[g][1]&&(c+=Math.pow(n[g][0],l+h));v.push(c),c=0}a.push(v)}a.push(e);for(var d=function(n,r){for(var t=n,e=n.length-1,o=[r],i=0;i<e;i++){for(var a=i,u=i+1;u<e;u++)Math.abs(t[i][u])>Math.abs(t[i][a])&&(a=u);for(var c=i;c<e+1;c++){var f=t[c][i];t[c][i]=t[c][a],t[c][a]=f}for(var s=i+1;s<e;s++)for(var l=e;l>=i;l--)t[l][s]-=t[l][i]*t[i][s]/t[i][i]}for(var p=e-1;p>=0;p--){for(var v=0,h=p+1;h<e;h++)v+=t[h][p]*o[h];o[p]=(t[e][p]-v)/t[p][p]}return o}(a,s).map((function(n){return i(n,r.precision)})),m=function(n){return[i(n,r.precision),i(d.reduce((function(r,t,e){return r+t*Math.pow(n,e)}),0),r.precision)]},x=n.map((function(n){return m(n[0])})),y="y = ",M=d.length-1;M>=0;M--)y+=M>1?d[M]+"x^"+M+" + ":1===M?d[M]+"x + ":d[M];return{string:y,points:x,predict:m,equation:[].concat(t(d)).reverse(),r2:i(o(n,x),r.precision)}}};n.exports=Object.keys(a).reduce((function(n,t){return r({_round:i},n,(c=function(n,o){return a[t](n,r({},e,o))},(u=t)in(o={})?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c,o));var o,u,c}),{})})?e.apply(r,o):e)||(n.exports=i)},KRrj:function(n,r){n.exports=function(n,r,t){var e=-1,o=n.length;r<0&&(r=-r>o?0:o+r),(t=t>o?o:t)<0&&(t+=o),o=r>t?0:t-r>>>0,r>>>=0;for(var i=Array(o);++e<o;)i[e]=n[e+r];return i}},"Ma/q":function(n,r){n.exports=function(n){return function(r,t,e){for(var o=-1,i=Object(r),a=e(r),u=a.length;u--;){var c=a[n?u:++o];if(!1===t(i[c],c,i))break}return r}}},N7LH:function(n,r,t){var e=t("xi+f"),o=t("hQ5t"),i=t("4hrr"),a=t("+Gi7");n.exports=function(n,r){return(a(n)?e:i)(n,o(r,3))}},NG5O:function(n,r){var t=/\s/;n.exports=function(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}},R3oX:function(n,r,t){var e=t("mXku"),o=t("KmIr");n.exports=function(n,r){return n&&e(n,r,o)}},S8CN:function(n,r){n.exports=function(n,r,t,e){for(var o=n.length,i=t+(e?1:-1);e?i--:++i<o;)if(r(n[i],i,n))return i;return-1}},SOgk:function(n,r,t){var e=t("R3oX"),o=t("Vy5S")(e);n.exports=o},TdPr:function(n,r,t){var e=t("TpDJ"),o=t("TIpG"),i=t("TeP8"),a=t("E5vS");n.exports=function(n,r,t){if(!a(t))return!1;var u=typeof r;return!!("number"==u?o(t)&&i(r,t.length):"string"==u&&r in t)&&e(t[r],n)}},UqQu:function(n,r,t){var e=t("2vMh");n.exports=function(n,r){for(var t=-1,o=n.length;++t<o&&e(r,n[t],0)>-1;);return t}},Vy5S:function(n,r,t){var e=t("TIpG");n.exports=function(n,r){return function(t,o){if(null==t)return t;if(!e(t))return n(t,o);for(var i=t.length,a=r?i:-1,u=Object(t);(r?a--:++a<i)&&!1!==o(u[a],a,u););return t}}},Y14c:function(n,r,t){var e=t("2vMh");n.exports=function(n,r){for(var t=n.length;t--&&e(r,n[t],0)>-1;);return t}},Z8sD:function(n,r,t){var e=t("tbeB"),o=t("TdPr"),i=t("qccO");n.exports=function(n){return function(r,t,a){return a&&"number"!=typeof a&&o(r,t,a)&&(t=a=void 0),r=i(r),void 0===t?(t=r,r=0):t=i(t),a=void 0===a?r<t?1:-1:i(a),e(r,t,a,n)}}},ZL7X:function(n,r,t){var e=t("simP"),o=t("hQlM"),i=t("Lsfr"),a=i&&i.isRegExp,u=a?o(a):e;n.exports=u},m5iE:function(n,r,t){var e=t("Xv/6"),o=t("nTTP"),i=t("AmsH"),a=t("TdPr"),u=t("ZL7X"),c=t("/40y"),f=t("cA8S");n.exports=function(n,r,t){return t&&"number"!=typeof t&&a(n,r,t)&&(r=t=void 0),(t=void 0===t?4294967295:t>>>0)?(n=f(n))&&("string"==typeof r||null!=r&&!u(r))&&!(r=e(r))&&i(n)?o(c(n),0,t):n.split(r,t):[]}},mXku:function(n,r,t){var e=t("Ma/q")();n.exports=e},nTTP:function(n,r,t){var e=t("KRrj");n.exports=function(n,r,t){var o=n.length;return t=void 0===t?o:t,!r&&t>=o?n:e(n,r,t)}},qccO:function(n,r,t){var e=t("qhWv");n.exports=function(n){return n?(n=e(n))===1/0||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}},qhWv:function(n,r,t){var e=t("DFgS"),o=t("E5vS"),i=t("0Zv/"),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return NaN;if(o(n)){var r="function"==typeof n.valueOf?n.valueOf():n;n=o(r)?r+"":r}if("string"!=typeof n)return 0===n?n:+n;n=e(n);var t=u.test(n);return t||c.test(n)?f(n.slice(2),t?2:8):a.test(n)?NaN:+n}},simP:function(n,r,t){var e=t("3Jv6"),o=t("2Swa");n.exports=function(n){return o(n)&&"[object RegExp]"==e(n)}},t3mm:function(n,r,t){var e=t("Z8sD")();n.exports=e},tbeB:function(n,r){var t=Math.ceil,e=Math.max;n.exports=function(n,r,o,i){for(var a=-1,u=e(t((r-n)/(o||1)),0),c=Array(u);u--;)c[i?u:++a]=n,n+=o;return c}},tqoU:function(n,r){n.exports=function(n,r,t){for(var e=t-1,o=n.length;++e<o;)if(n[e]===r)return e;return-1}},"ubI+":function(n,r){var t="[\\ud800-\\udfff]",e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+e+"|"+o+")"+"?",f="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,u].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),s="(?:"+[i+e+"?",e,a,u,t].join("|")+")",l=RegExp(o+"(?="+o+")|"+s+f,"g");n.exports=function(n){return n.match(l)||[]}},wvav:function(n,r){n.exports=function(n){return n.split("")}},ytY3:function(n,r,t){"use strict";t.r(r);var e=t("aArQ"),o=t("FEUI"),i=t("Mgia"),a=t("5L7N"),u=t("WeNx"),c=t.n(u),f=t("t3mm"),s=t.n(f),l=t("7m6k"),p=t.n(l),v=t("5ixe"),h=t.n(v),g=t("N7LH"),d=t.n(g),m=t("m5iE"),x=t.n(m),y=t("xwgP"),M=t.n(y),b=t("pIOA"),w=t("nWP2"),E=t("P6Fa"),S=t("vfEn"),O=t("ZwgT"),A=t("J4VQ"),P=t.n(A),j=t("Q6Bq"),N=t.n(j),T=(t("Z5xy"),t("WPhU"),t("96pR")),q=t.n(T),D=(t("7joA"),b.a.TextArea),C=w.a.Item,X=function(n){function r(r){var t;return(t=n.call(this,r)||this).parseData=function(){var n=t.state.data;return x()(n,"\n").map((function(n){var r=x()(n,",");return d()(r,(function(n){return Number(h()(n))}))}))},t.calculate=function(){var n=t.state,r={order:n.order,precision:n.precision},e=t.parseData(),o=P.a.linear(e,r),i=P.a.polynomial(e,r),a=P.a.exponential(e,r),u=P.a.logarithmic(e,r),c=P.a.power(e,r);t.setState({result:{linear:o,polynomial:i,exponential:a,logarithmic:u,power:c}})},t.inputChange=function(n){t.setState({data:n.target.value})},t.onOrderChange=function(n){t.setState({order:n})},t.onPrecisionChange=function(n){t.setState({precision:n})},t.getRegression=function(){var n=t.state.result;return M.a.createElement("div",null,M.a.createElement("div",null,"线性：",p()(n,"linear.string",""),"，拟合度：",p()(n,"linear.r2","")),M.a.createElement("div",null,"多项式：",p()(n,"polynomial.string",""),"，拟合度：",p()(n,"polynomial.r2","")),M.a.createElement("div",null,"指数：",p()(n,"exponential.string",""),"，拟合度：",p()(n,"exponential.r2","")),M.a.createElement("div",null,"对数：",p()(n,"logarithmic.string",""),"，拟合度：",p()(n,"logarithmic.r2","")),M.a.createElement("div",null,"power：",p()(n,"power.string",""),"，拟合度：",p()(n,"power.r2","")))},t.getSeriesData=function(n,r){return d()(r,(function(r){return n(r)}))},t.getX=function(){var n=t.parseData(),r=d()(n,(function(n){return n[0]})),e=Math.min.apply(Math,Object(i.a)(r)),o=Math.max.apply(Math,Object(i.a)(r)),a=(o-e)/100;return[e-a].concat(Object(i.a)(s()(e,o,a)),[o+a])},t.getSeries=function(n,r,e){return{name:n,type:"line",smooth:!0,data:t.getSeriesData(r,e)}},t.getOption=function(){var n=t.getX(),r=t.state.result.result;return{legend:{data:["线性拟合","多项式拟合","指数拟合","对数拟合","Power 拟合"]},xAxis:{type:"value",data:n},yAxis:{type:"value"},tooltip:{trigger:"axis"},series:[t.getSeries("线性拟合",p()(r,"linear.predict",c.a),n),t.getSeries("多项式拟合",p()(r,"polynomial.predict",c.a),n),t.getSeries("指数拟合",p()(r,"exponential.predict",c.a),n),t.getSeries("对数拟合",p()(r,"logarithmic.predict",c.a),n),t.getSeries("Power 拟合",p()(r,"power.predict",c.a),n)]}},t.state={data:"0, 1\n32, 67\n12, 79",result:{linear:{},polynomial:{},exponential:{},logarithmic:{},power:{}},order:3,precision:10},t}Object(a.a)(r,n);var t=r.prototype;return t.componentDidMount=function(){this.calculate()},t.render=function(){var n=this.state,r=n.data,t=n.order,e=n.precision;return M.a.createElement("div",{className:"atool-fitting"},M.a.createElement(w.a,null,M.a.createElement(C,null,M.a.createElement(D,{placeholder:"输入 x, y 数据点，每行一对数据！",value:r,onChange:this.inputChange})),M.a.createElement(C,null,M.a.createElement("span",{className:"label"},"多项式阶数"),M.a.createElement(E.a,{placeholder:"多项式阶数",value:t,onChange:this.onOrderChange}),M.a.createElement("span",{className:"label"},"小数精度"),M.a.createElement(E.a,{placeholder:"小数精度",value:e,onChange:this.onPrecisionChange}),M.a.createElement(S.a,{type:"primary",onClick:this.calculate},"计算")),M.a.createElement(C,null,M.a.createElement(O.a,{className:"all-regression",description:this.getRegression(),type:"success"})),M.a.createElement(C,null,M.a.createElement(q.a,{echarts:N.a,option:this.getOption(),style:{height:300}}))))},r}(y.PureComponent);r.default=Object(e.a)(X,o.a)}}]);
//# sourceMappingURL=component---src-pages-fitting-js-ad708ccc049ce2636085.js.map